---
slug: "kuzu-0.4.0-release"
title: "Kùzu 0.4.0 Release"
description: "Release announcement for Kùzu 0.4.0"
pubDate: "April 24 2024"
heroImage: "/img/default.png"
categories: ["release"]
authors: ["team"]
tags: ["cypher", "extensions"]
---

We just released version 0.4.0 with a host of new features and improvements!

## Import/Export database

You can now migrate databases between different Kùzu versions without manually writing DDL and COPY statements.
Under the hood, Kùzu will generate the required DDL statements to facilitate the transfer of data out
of one version and into another. The `IMPORT DATABASE` command allows you to import the contents of
the database from a specific directory. The query below imports the database from a directory named `/path/to/export`.

```cypher
IMPORT DATABASE FROM '/path/to/export';
```

The `EXPORT DATABASE` command allows you to export the contents of the database to a specific directory.
The query below exports the database to an absolute directory named `/path/to/export`, utilizing the same
configuration parameters as `COPY FROM` statements.

```cypher
EXPORT DATABASE TO '/path/to/export' (HEADER=true);
```

Exporting a database generates three Cypher files, one each for the schema, macro definitions and
the `COPY` statements for each table. In addition, the data files are exported to CSV (by default), or
in Parquet format.

We hope that the import/export functionality will make it easier to migrate databases between different
Kùzu versions as we continue to evolve the core and the storage layer in future versions.

## `COPY FROM` subquery

In v0.4.0, we have added support for subqueries in the `COPY FROM` command. This feature allows you to
first perform a task like `MATCH` and then use the results of that query as input to the `COPY FROM` command.

For example, consider that we have a graph with a `User` node label and a `Follows` relationship type.
We want to create a new `Person` node table and a `Knows` relationship table, where we state that
a `Person` knows another `Person` if they follow each other. We can use the `COPY FROM` command with a subquery
to achieve this as follows:

```cypher
# Create node/rel tables
CREATE NODE TABLE Person(name STRING, PRIMARY KEY (name));
CREATE REL TABLE Knows(FROM Person TO Person);

# Run the COPY with a subquery
COPY Person FROM (MATCH (a:User) RETURN a.name);
COPY Knows FROM (MATCH (a:User)-[r:Follows]->(b:User) RETURN a.name, b.name);
```

Using subqueries with `COPY FROM` opens up a wider range of possibilities for data manipulation and
transformation prior to inserting data into the database.

## Bulk insert into a non-empty database

In previous versions of Kùzu, the `COPY FROM` command could only be used to bulk insert data into an empty database.
That restriction has now been removed, and in v0.4.0, you can also bulk insert data into a non-empty database.

## New extensions: DuckDB and PostgreSQL scanners

In v0.2.0, we introduced the Kùzu extensions framework along with our first extension, httpfs. In
v0.4.0, we are happy to introduce two new extensions: DuckDB and PostgreSQL scanners.

## Scan from Pandas PyArrow backend


## Closing Remarks


As always, our many thanks to everyone in the Kùzu team, as well as our interns and external contributors.
Please install and try and latest release, and we look forward to your feedback!
