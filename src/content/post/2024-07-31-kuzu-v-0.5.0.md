---
slug: "kuzu-0.5.0-release"
title: "Kùzu 0.5.0 Release"
description: "Release announcement for Kùzu 0.5.0"
pubDate: "July 31 2024"
heroImage: "/img/default.png"
categories: ["release"]
authors: ["team"]
tags: ["cypher", "extensions"]
draft: true
---

It's been a productive summer for Kùzu Inc., and we are really excited to announce the release of
Kùzu **0.5.0**! In this post, we'll describe a host of new features, improvements and extensions that
are available to users in this major release. Without any further ado, let's dive in!

## Features

### Remote databases

User can now attach a remote Kùzu database through `httpfs` extension and perform read-only queries on it. E.g.

```
ATTACH 's3://kuzu-example/university' AS uw (dbtype kuzu);
```

### Python UDFs

We have extended UDF implementation to Python API.

To register a python UDF, user needs to provide both function signature and implementation

```python
# define your function
def difference(a, b):
    return a - b

# define the expected type of your parameters
parameters = [kuzu.Type.INT64, kuzu.Type.INT64]

# define expected type of the returned value
return_type = kuzu.Type.INT64

# register the UDF
conn.create_function("difference", difference, parameters, return_type)
```

Once registered, python UDF can be used as a regular function

```
RETURN difference(2, 1)
```

### Direct scan from Polars, PyArrow & SQLite

In the previous release, we introduced direct scan of DataFrame, Postgres database & DuckDB database. This release further extends this feature to 

To scan Polars
```python
import polars as pl

df = pl.DataFrame({
    "name": ["Adam", "Karissa", "Zhang"],
    "age": [30, 40, 50]
})

res = conn.execute("LOAD FROM df RETURN *")
print(res.get_as_pl())
```

To scan PyArrow
``` python
import pyarrow as pa

pa_table = pa.table({
    "name": ["Adam", "Karissa", "Zhang"],
    "age": [30, 40, 50]
})

res = conn.execute("LOAD FROM pa_table RETURN *")
print(res.get_as_arrow())
```

To scan SQLite, first install sqlite extension.
```cypher
INSTALL sqlite;
LOAD EXTENSION sqlite;
```
Attach a sqlite database.
```cypher
ATTACH 'university.db' AS uw (dbtype sqlite);
```
Scan from attached database.
```cypher
LOAD FROM uw.person RETURN *
```

### Json
This release adds Json support through extension.

To scan a json file
```
LOAD FROM 'data.json' RETURN *;
```

To ingest data from a json file
```
CREATE NODE TABLE tab(a INT64, b STRING[], c DATE, PRIMARY KEY (a));
COPY tab FROM 'data.json';
```

Query result can also be exported in json format
```
COPY (match (t:tab) return t.*) TO 'data2.json';
```

Json can also be used as a regular data type in the system. To define a table with json column
```
CREATE NODE TABLE tab(id INT64, col1 JSON, PRIMARY KEY id);
```

### Data types

#### Decimal
User can now represent floating point numbers with `DECIMAL` data type when exact precision is required. Decimal data type is defined as `DECIMAL(precision, scale)`, where `precision` is the total number of digits and `scale` is the number of digits to the right of the decimal point.

#### User-defined types

User can also create their own data type through an existing data type, e.g.
```
CREATE TYPE BIGINT AS INT64;
CREATE NODE TABLE Person (id BIGINT, name STRING, age BIGINT, PRIMARY KEY(id));
```

### Others

#### Create sequence

#### Create/Drop table if not 

### Progress bar in CLI and Kùzu Explorers

### C-API improvements
Version 0.5.0 of Kùzu introduces several enhancements to the C APIs. First, we have replaced return values with out parameters, simplifying object reuse. Second, functions that may fail now return a kuzu_state value, streamlining error handling. Lastly, we have added several utility functions for data types such as `kuzu_date_t`, `kuzu_timestamp_t`, and `kuzu_interval_t`, enhancing the API's usability.

## Performance improvements

### MVCC

Version 0.5.0 of Kùzu brings numerous updates and improvements to the multi-version concurrency control (MVCC) protocol.

#### INT128 compression

### Hash index

### Remote file system system cache

## Closing Remarks

As always, we have only scratched the surface of listing the many new features and improvements in Kùzu v0.5.0 in
this blog post. For a more comprehensive list, check out our [release notes](https://github.com/kuzudb/kuzu/releases/tag/v0.5.0)
on GitHub.

Our many thanks go out to the entire Kùzu team for their hard work in making this release possible. Hopefully,
you find that the new features and improvements enhance your graph workflows and allow you to more easily
get your graph-based applications to production. Please give the latest version a try, and do let us
know about any feedback on [Discord](https://discord.gg/VtX2gw9Rug)!
